<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Class NtpPacket
 </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Class NtpPacket
 ">
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      
      
      
      
  </head>

  <script type="module">
    import options from './../public/main.js'
    import { init } from './../public/docfx.min.js'
    init(options)
  </script>

  <script>
    const theme = localStorage.getItem('theme') || 'auto'
    document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
  </script>


  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="LiteNetLib.Utils.NtpPacket">



  <h1 id="LiteNetLib_Utils_NtpPacket" data-uid="LiteNetLib.Utils.NtpPacket" class="text-break">
    Class NtpPacket
  
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="LiteNetLib.html">LiteNetLib</a>.<a class="xref" href="LiteNetLib.Utils.html">Utils</a></dd></dl>
  
  </div>

  <div class="markdown summary"><p>Represents RFC4330 SNTP packet used for communication to and from a network time server.</p>
</div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class NtpPacket</code></pre>
  </div>




  <dl class="typelist inheritance">
    <dt>Inheritance</dt>
    <dd>
      <div><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object">object</a></div>
      <div><span class="xref">NtpPacket</span></div>
    </dd>
  </dl>



  <dl class="typelist derived">
    <dt>Inherited Members</dt>
    <dd>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object)">object.Equals(object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.equals#system-object-equals(system-object-system-object)">object.Equals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gethashcode">object.GetHashCode()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.gettype">object.GetType()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.memberwiseclone">object.MemberwiseClone()</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.referenceequals">object.ReferenceEquals(object, object)</a>
    </div>
    <div>
      <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.object.tostring">object.ToString()</a>
    </div>
  </dd></dl>

  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_GetActualType_System_Object_">Extensions.GetActualType(object)</a>
  </div>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_ToDouble_System_Object_">Extensions.ToDouble(object)</a>
  </div>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_ToFloat_System_Object_">Extensions.ToFloat(object)</a>
  </div>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_ToInt16_System_Object_">Extensions.ToInt16(object)</a>
  </div>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_ToInt32_System_Object_">Extensions.ToInt32(object)</a>
  </div>
  <div>
      <a class="xref" href="ILRuntime.Runtime.Extensions.html#ILRuntime_Runtime_Extensions_ToInt64_System_Object_">Extensions.ToInt64(object)</a>
  </div>
  <div>
      <a class="xref" href="JEngine.Core.Tools.html#JEngine_Core_Tools_CanAssignTo_System_Object_System_Type_">Tools.CanAssignTo(object, Type)</a>
  </div>
  <div>
      <a class="xref" href="JEngine.Core.Tools.html#JEngine_Core_Tools_ConvertSimpleType_System_Object_System_Type_">Tools.ConvertSimpleType(object, Type)</a>
  </div>
  <div>
      <a class="xref" href="JEngine.Core.Tools.html#JEngine_Core_Tools_GetGameObject_System_Object_">Tools.GetGameObject(object)</a>
  </div>
  </dd></dl>



  <h2 id="LiteNetLib_Utils_NtpPacket_remarks">Remarks</h2>
  <div class="markdown level0 remarks"><p>
Most applications should just use the <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_CorrectionOffset">CorrectionOffset</a> property.
</p>
<p>
The same data structure represents both request and reply packets.
Request and reply differ in which properties are set and to what values.
</p>
<p>
The only real property is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_Bytes">Bytes</a>.
All other properties read from and write to the underlying byte array
with the exception of <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_DestinationTimestamp">DestinationTimestamp</a>,
which is not part of the packet on network and it is instead set locally after receiving the packet.
</p>
<p>
Copied from <a href="https://guerrillantp.machinezoo.com/">GuerrillaNtp project</a>
with permission from Robert Vazan (@robertvazan) under MIT license, see https://github.com/RevenantX/LiteNetLib/pull/236
</p>
</div>


  <h2 class="section" id="constructors">Constructors
</h2>


  <a id="LiteNetLib_Utils_NtpPacket__ctor_" data-uid="LiteNetLib.Utils.NtpPacket.#ctor*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket__ctor" data-uid="LiteNetLib.Utils.NtpPacket.#ctor">
  NtpPacket()
  
  </h3>

  <div class="markdown level1 summary"><p>Initializes default request packet.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NtpPacket()</code></pre>
  </div>









  <h4 class="section" id="LiteNetLib_Utils_NtpPacket__ctor_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Properties <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_Mode">Mode</a> and <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_VersionNumber">VersionNumber</a>
are set appropriately for request packet. Property <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_TransmitTimestamp">TransmitTimestamp</a>
is set to <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime.utcnow">UtcNow</a>.</p>
</div>




  <h2 class="section" id="properties">Properties
</h2>


  <a id="LiteNetLib_Utils_NtpPacket_Bytes_" data-uid="LiteNetLib.Utils.NtpPacket.Bytes*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_Bytes" data-uid="LiteNetLib.Utils.NtpPacket.Bytes">
  Bytes
  
  </h3>

  <div class="markdown level1 summary"><p>Gets RFC4330-encoded SNTP packet.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public byte[] Bytes { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.byte">byte</a>[]</dt>
    <dd><p>Byte array containing RFC4330-encoded SNTP packet. It is at least 48 bytes long.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_Bytes_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This is the only real property. All other properties except
<a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_DestinationTimestamp">DestinationTimestamp</a> read from or write to this byte array.</p>
</div>




  <a id="LiteNetLib_Utils_NtpPacket_CorrectionOffset_" data-uid="LiteNetLib.Utils.NtpPacket.CorrectionOffset*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_CorrectionOffset" data-uid="LiteNetLib.Utils.NtpPacket.CorrectionOffset">
  CorrectionOffset
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the offset that should be added to local time to synchronize it with server time.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TimeSpan CorrectionOffset { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>Time difference between server and client. It should be added to local time to get server time.
It is calculated from timestamps in the packet as <code>0.5 * ((t1 - t0) - (t3 - t2))</code>
where t0 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_OriginTimestamp">OriginTimestamp</a>,
t1 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_ReceiveTimestamp">ReceiveTimestamp</a>,
t2 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_TransmitTimestamp">TransmitTimestamp</a>,
and t3 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_DestinationTimestamp">DestinationTimestamp</a>.
This property throws an exception in request packets.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_DestinationTimestamp_" data-uid="LiteNetLib.Utils.NtpPacket.DestinationTimestamp*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_DestinationTimestamp" data-uid="LiteNetLib.Utils.NtpPacket.DestinationTimestamp">
  DestinationTimestamp
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the time of reception of response SNTP packet on the client.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public DateTime? DestinationTimestamp { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a>?</dt>
    <dd><p>Time of reception of response SNTP packet on the client. It is <code>null</code> in request packets.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_DestinationTimestamp_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This property is not part of the protocol and has to be set when reply packet is received.</p>
</div>


  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_CorrectionOffset">CorrectionOffset</a></div>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_RoundTripTime">RoundTripTime</a></div>
    </dd>
  </dl>


  <a id="LiteNetLib_Utils_NtpPacket_LeapIndicator_" data-uid="LiteNetLib.Utils.NtpPacket.LeapIndicator*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_LeapIndicator" data-uid="LiteNetLib.Utils.NtpPacket.LeapIndicator">
  LeapIndicator
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the leap second indicator.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NtpLeapIndicator LeapIndicator { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="LiteNetLib.Utils.NtpLeapIndicator.html">NtpLeapIndicator</a></dt>
    <dd><p>Leap second warning, if any. Special value
<a class="xref" href="LiteNetLib.Utils.NtpLeapIndicator.html#LiteNetLib_Utils_NtpLeapIndicator_AlarmCondition">AlarmCondition</a> indicates unsynchronized server clock.
Default is <a class="xref" href="LiteNetLib.Utils.NtpLeapIndicator.html#LiteNetLib_Utils_NtpLeapIndicator_NoWarning">NoWarning</a>.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_LeapIndicator_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>Only servers fill in this property. Clients can consult this property for possible leap second warning.</p>
</div>




  <a id="LiteNetLib_Utils_NtpPacket_Mode_" data-uid="LiteNetLib.Utils.NtpPacket.Mode*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_Mode" data-uid="LiteNetLib.Utils.NtpPacket.Mode">
  Mode
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets SNTP packet mode, i.e. whether this is client or server packet.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public NtpMode Mode { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="LiteNetLib.Utils.NtpMode.html">NtpMode</a></dt>
    <dd><p>SNTP packet mode. Default is <a class="xref" href="LiteNetLib.Utils.NtpMode.html#LiteNetLib_Utils_NtpMode_Client">Client</a> in newly created packets.
Server reply should have this property set to <a class="xref" href="LiteNetLib.Utils.NtpMode.html#LiteNetLib_Utils_NtpMode_Server">Server</a>.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_OriginTimestamp_" data-uid="LiteNetLib.Utils.NtpPacket.OriginTimestamp*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_OriginTimestamp" data-uid="LiteNetLib.Utils.NtpPacket.OriginTimestamp">
  OriginTimestamp
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the time when the client sent its request.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public DateTime? OriginTimestamp { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a>?</dt>
    <dd><p>This property is <code>null</code> in request packets.
In reply packets, it is the time when the client sent its request.
Servers copy this value from <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_TransmitTimestamp">TransmitTimestamp</a>
that they find in received request packet.</p>
</dd>
  </dl>






  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_CorrectionOffset">CorrectionOffset</a></div>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_RoundTripTime">RoundTripTime</a></div>
    </dd>
  </dl>


  <a id="LiteNetLib_Utils_NtpPacket_Poll_" data-uid="LiteNetLib.Utils.NtpPacket.Poll*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_Poll" data-uid="LiteNetLib.Utils.NtpPacket.Poll">
  Poll
  
  </h3>

  <div class="markdown level1 summary"><p>Gets server's preferred polling interval.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Poll { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Polling interval in log2 seconds, e.g. 4 stands for 16s and 17 means 131,072s.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_Precision_" data-uid="LiteNetLib.Utils.NtpPacket.Precision*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_Precision" data-uid="LiteNetLib.Utils.NtpPacket.Precision">
  Precision
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the precision of server clock.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Precision { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>Clock precision in log2 seconds, e.g. -20 for microsecond precision.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_ReceiveTimestamp_" data-uid="LiteNetLib.Utils.NtpPacket.ReceiveTimestamp*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_ReceiveTimestamp" data-uid="LiteNetLib.Utils.NtpPacket.ReceiveTimestamp">
  ReceiveTimestamp
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the time when the request was received by the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public DateTime? ReceiveTimestamp { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a>?</dt>
    <dd><p>This property is <code>null</code> in request packets.
In reply packets, it is the time when the server received client request.</p>
</dd>
  </dl>






  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_CorrectionOffset">CorrectionOffset</a></div>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_RoundTripTime">RoundTripTime</a></div>
    </dd>
  </dl>


  <a id="LiteNetLib_Utils_NtpPacket_ReferenceId_" data-uid="LiteNetLib.Utils.NtpPacket.ReferenceId*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_ReferenceId" data-uid="LiteNetLib.Utils.NtpPacket.ReferenceId">
  ReferenceId
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the ID of the time source used by the server or Kiss-o'-Death code sent by the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public uint ReferenceId { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.uint32">uint</a></dt>
    <dd><p>
ID of server's time source or Kiss-o'-Death code.
Purpose of this property depends on value of <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_Stratum">Stratum</a> property.
</p>
<p>
Stratum 1 servers write here one of several special values that describe the kind of hardware clock they use.
</p>
<p>
Stratum 2 and lower servers set this property to IPv4 address of their upstream server.
If upstream server has IPv6 address, the address is hashed, because it doesn't fit in this property.
</p>
<p>
When server sets <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_Stratum">Stratum</a> to special value 0,
this property contains so called kiss code that instructs the client to stop querying the server.
</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_ReferenceTimestamp_" data-uid="LiteNetLib.Utils.NtpPacket.ReferenceTimestamp*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_ReferenceTimestamp" data-uid="LiteNetLib.Utils.NtpPacket.ReferenceTimestamp">
  ReferenceTimestamp
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the time when the server clock was last set or corrected.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public DateTime? ReferenceTimestamp { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a>?</dt>
    <dd><p>Time when the server clock was last set or corrected or <code>null</code> when not specified.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_ReferenceTimestamp_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This Property is usually set only by servers. It usually lags server's current time by several minutes,
so don't use this property for time synchronization.</p>
</div>




  <a id="LiteNetLib_Utils_NtpPacket_RootDelay_" data-uid="LiteNetLib.Utils.NtpPacket.RootDelay*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_RootDelay" data-uid="LiteNetLib.Utils.NtpPacket.RootDelay">
  RootDelay
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the total round-trip delay from the server to the reference clock.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TimeSpan RootDelay { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>Round-trip delay to the reference clock. Normally a positive value smaller than one second.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_RootDispersion_" data-uid="LiteNetLib.Utils.NtpPacket.RootDispersion*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_RootDispersion" data-uid="LiteNetLib.Utils.NtpPacket.RootDispersion">
  RootDispersion
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the estimated error in time reported by the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TimeSpan RootDispersion { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>Estimated error in time reported by the server. Normally a positive value smaller than one second.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_RoundTripTime_" data-uid="LiteNetLib.Utils.NtpPacket.RoundTripTime*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_RoundTripTime" data-uid="LiteNetLib.Utils.NtpPacket.RoundTripTime">
  RoundTripTime
  
  </h3>

  <div class="markdown level1 summary"><p>Gets the round-trip time to the server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public TimeSpan RoundTripTime { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.timespan">TimeSpan</a></dt>
    <dd><p>Time the request spent traveling to the server plus the time the reply spent traveling back.
This is calculated from timestamps in the packet as <code>(t1 - t0) + (t3 - t2)</code>
where t0 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_OriginTimestamp">OriginTimestamp</a>,
t1 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_ReceiveTimestamp">ReceiveTimestamp</a>,
t2 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_TransmitTimestamp">TransmitTimestamp</a>,
and t3 is <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_DestinationTimestamp">DestinationTimestamp</a>.
This property throws an exception in request packets.</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_Stratum_" data-uid="LiteNetLib.Utils.NtpPacket.Stratum*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_Stratum" data-uid="LiteNetLib.Utils.NtpPacket.Stratum">
  Stratum
  
  </h3>

  <div class="markdown level1 summary"><p>Gets server's distance from the reference clock.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int Stratum { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>
Distance from the reference clock. This property is set only in server reply packets.
Servers connected directly to reference clock hardware set this property to 1.
Statum number is incremented by 1 on every hop down the NTP server hierarchy.
</p>
<p>
Special value 0 indicates that this packet is a Kiss-o'-Death message
with kiss code stored in <a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_ReferenceId">ReferenceId</a>.
</p>
</dd>
  </dl>








  <a id="LiteNetLib_Utils_NtpPacket_TransmitTimestamp_" data-uid="LiteNetLib.Utils.NtpPacket.TransmitTimestamp*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_TransmitTimestamp" data-uid="LiteNetLib.Utils.NtpPacket.TransmitTimestamp">
  TransmitTimestamp
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets the time when the packet was sent.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public DateTime? TransmitTimestamp { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a>?</dt>
    <dd><p>Time when the packet was sent. It should never be <code>null</code>.
Default value is <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime.utcnow">UtcNow</a>.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_TransmitTimestamp_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>This property must be set by both clients and servers.</p>
</div>


  <dl class="typelist seealso">
    <dt>See Also</dt>
    <dd>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_CorrectionOffset">CorrectionOffset</a></div>
    <div><a class="xref" href="LiteNetLib.Utils.NtpPacket.html#LiteNetLib_Utils_NtpPacket_RoundTripTime">RoundTripTime</a></div>
    </dd>
  </dl>


  <a id="LiteNetLib_Utils_NtpPacket_VersionNumber_" data-uid="LiteNetLib.Utils.NtpPacket.VersionNumber*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_VersionNumber" data-uid="LiteNetLib.Utils.NtpPacket.VersionNumber">
  VersionNumber
  
  </h3>

  <div class="markdown level1 summary"><p>Gets or sets protocol version number.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public int VersionNumber { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd><p>SNTP protocol version. Default is 4, which is the latest version at the time of this writing.</p>
</dd>
  </dl>




  <h4 class="section" id="LiteNetLib_Utils_NtpPacket_VersionNumber_remarks">Remarks</h4>
  <div class="markdown level1 remarks"><p>In request packets, clients should leave this property at default value 4.
Servers usually reply with the same protocol version.</p>
</div>




  <h2 class="section" id="methods">Methods
</h2>


  <a id="LiteNetLib_Utils_NtpPacket_FromServerResponse_" data-uid="LiteNetLib.Utils.NtpPacket.FromServerResponse*"></a>

  <h3 id="LiteNetLib_Utils_NtpPacket_FromServerResponse_System_Byte___System_DateTime_" data-uid="LiteNetLib.Utils.NtpPacket.FromServerResponse(System.Byte[],System.DateTime)">
  FromServerResponse(byte[], DateTime)
  
  </h3>

  <div class="markdown level1 summary"><p>Initializes packet from data received from a server.</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static NtpPacket FromServerResponse(byte[] bytes, DateTime destinationTimestamp)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>bytes</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.byte">byte</a>[]</dt>
    <dd><p>Data received from the server.</p>
</dd>
    <dt><code>destinationTimestamp</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.datetime">DateTime</a></dt>
    <dd><p>Utc time of reception of response SNTP packet on the client.</p>
</dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="LiteNetLib.Utils.NtpPacket.html">NtpPacket</a></dt>
    <dd></dd>
  </dl>












</article>

        <div class="contribution d-print-none">
        </div>

        
      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>